Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2015-11-17T23:01:03+08:00

====== IoT with IP 2 ======
Created Tuesday 17 November 2015

IP传输协议分为UDP和TCP。
UDP有两个问题：1，传输不可靠，,2，智能网络能传输包很小，UDP需要分包，但是目前UDP没有这个机制。
** 实际后面设计中发现，通过包头压缩，UDP包不需要分包，也能够通过一个智能网络数据包传输
**UDP可以通过适当调整UDP传输机制，增加确认包，规避了传输不可靠的问题。

TCP传输可靠，但是由于内存限制，不能采用滑窗机制，其次TCP延迟ACK机制降低了吞吐量。当然我们可以在接收端关闭延迟ACK机制，规避这个问题。

网络服务这一块谈的是基于IP层的，同时由于链路层也提供一些有限的服务发现机制，因此如何有效的将链路层服务发现机制与IP网络发现机制有机的结合，是一个很有趣的问题。IP网络常用**SLP, Zeroconf, UPnP。除此外还有UDDI和WS-Discovery.**
UDDI:全球服务注册中心，基本没有使用。 WS-Discovery 没有基于集中式服务注册
SLP三个角 色：SA,UA,DA. DA使SLP具有扩展性，机制简单，额外消息开销很小
Zeroconf用于地址自动配置 mDNS 消息开销小，但是没有类似DA的缓存代理，而且需要对所有查询的本地链路多播
[[UPnP]] SSDP及DHCP v6 由于相关协议太多，不太适合
** 适当简化协议，例如只是使用DHCP v6，另外将上层IP服务发现和链路层服务发现结合才是比较高效的方法，但是这样会导致需要跨层设计。

安全性需要从保密性，完整性和可用性三个方面分析。
期望通过隐藏算法来达到安全的目的是不可取的，因为有两个风险：泄密，逆向工程。
加密分有两种算法：对称和不对称。智能物件加密需要适当考虑链路层加密。IP安全由IPsec和TLS提供。IPSec负责IP层保密和完整性。TLS提供端对端安全信道
